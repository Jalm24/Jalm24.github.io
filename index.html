<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Formulario de prueba</title>
</head>
<body>
  <form id="form-datos">
    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" name="nombre"><br>
    <label for="version">Versión:</label>
    <input type="text" id="version" name="version"><br>
    <label for="id">ID:</label>
    <input type="text" id="id" name="id"><br>
    <label for="descripcion">Descripción:</label>
    <input type="text" id="descripcion" name="descripcion"><br>
    <label for="imagen">Imagen:</label>
    <input type="text" id="imagen" name="imagen"><br>
    <button type="button" onclick="enviarAlerta()">Enviar</button>
  </form>
 <p id="error" style="display: none; color: red;"></p>
  <script src="discord.js"></script>
  <script>
   function enviarMensajeEmbed(nombre, version, descripcion, imagen) {
  // Creamos un objeto XMLHttpRequest para hacer la petición
  var xhr = new XMLHttpRequest();
  // Abrimos la conexión con el método POST y la URL del webhook
  xhr.open("POST", "https://discord.com/api/webhooks/WEBHOOK_ID/WEBHOOK_TOKEN");
  // Establecemos el tipo de contenido a JSON
  xhr.setRequestHeader("Content-Type", "application/json");
  // Creamos el objeto embed con los datos que queremos enviar
  var embed = {
    title: nombre,
    description: descripcion,
    image: {
      url: imagen
    },
    footer: {
      text: "Versión " + version
    }
  };
  // Convertimos el objeto embed a una cadena JSON
  var data = JSON.stringify({
    embeds: [embed]
  });
  // Enviamos la petición con los datos del embed
  xhr.send(data);
  // Capturamos el evento de error
  xhr.onerror = function() {
    // Obtenemos el elemento de error
    var errorElement = document.getElementById("error");
    // Si el status es 400, mostramos el mensaje personalizado
    if (xhr.status == 400) {
      errorElement.innerHTML = "Tomnto, la url de la imagen no es válida";
    } else {
      // Si no, mostramos el mensaje por defecto
      errorElement.innerHTML = xhr.statusText;
    }
    // Cambiamos el estilo del elemento de error para que sea visible
    errorElement.style.display = "block";
  };
}
  </script>
</body>
</html>
