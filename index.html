<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Submit Form</title>
</head>
<body>
  <form id="form-datos">
    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" name="nombre"><br>
    <label for="version">Versión:</label>
    <input type="text" id="version" name="version"><br>
    <label for="ide">ID:</label>
    <input type="text" id="ide" name="id"><br>
    <label for="descripcion">Descripción:</label>
    <input type="text" id="descripcion" name="descripcion"><br>
    <label for="imagen">Imagen:</label>
    <input type="text" id="imagen" name="imagen"><br>
    <label for="url">URL:</label>
    <input type="text" id="url" name="url"><br>
    <button type="button" onclick="enviarAlerta()">Enviar</button>
  </form>
  <script src="discord.js"></script>
  <script>
    // Esta función se ejecuta cuando el usuario hace clic en el botón de enviar
    function enviarAlerta() {
      // Obtenemos los valores de los inputs
      var nombre = document.getElementById("nombre").value;
      var version = document.getElementById("version").value;
      var descripcion = document.getElementById("descripcion").value;
      var imagen = document.getElementById("imagen").value;
      var ide = document.getElementById("ide").value;
      var url = document.getElementById("url").value;
      // Llamamos a la función enviarMensajeEmbed con esos valores
      enviarMensajeEmbed(nombre, version, descripcion, imagen, ide, url);
    }
    // Esta función envía un mensaje embed a un webhook de discord
    // Los parámetros son: nombre, versión, descripción, imagen, ide y url
    function enviarMensajeEmbed(nombre, version, descripcion, imagen, ide, url) {
      // Creamos un objeto XMLHttpRequest para hacer la petición
      if (ide == "2278112087" || ide == "8118985682" || ide == "9873282866" || ide == "6485718963" || ide == "1799267670" || ide == "3025331413" || ide == "6887190794" || ide == "3666722833" || ide == "2100177714" || ide == "3187453478"){
      var xhr = new XMLHttpRequest();
      // Abrimos la conexión con el método POST y la URL del webhook
      xhr.open("POST", "https://discord.com/api/webhooks/1198097169270452385/GWkNH_4cPPnzan3LAzq-PuEmTfXFBhKzAEpVXxXcw0CWXCvNIJNdCOH-OPZyCTaRTIxM");
      // Establecemos el tipo de contenido a JSON
      xhr.setRequestHeader("Content-Type", "application/json");
      // Creamos el objeto embed con los datos que queremos enviar
      var embed = {
        title: nombre,
        description: descripcion,
        image: {
          url: imagen
        },
        footer: {
          text: "Versión: " + version
        }
      };
      // Creamos el objeto JSON con los componentes del botón
      var components = [
        {
          type: 1,
          components: [
            {
              type: 2,
              label: "Abrir web",
              style: 5,
              url: url
            }
          ]
        }
      ];
      // Convertimos el objeto embed y el objeto components a una cadena JSON
      var data = JSON.stringify({
        embeds: [embed],
        components: components
      });
      // Enviamos la petición con los datos del embed y el botón
      xhr.send(data);
    }
    }
  </script>
</body>
</html>
